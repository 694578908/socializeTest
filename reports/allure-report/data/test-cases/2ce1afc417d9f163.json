{"uid":"2ce1afc417d9f163","name":"接口参数效验","fullName":"TestCases.test_get_request.TestRequest#test_case_nft","historyId":"bc832219e04208fed8f785d3421ace4d","time":{"start":1703586079883,"stop":1703586080908,"duration":1025},"status":"failed","statusMessage":"AssertionError: assert 510 == 0","statusTrace":"self = <test_get_request.TestRequest object at 0x000002000B142C48>\n\n    @allure.feature('接口功能模块')\n    @allure.title(\"接口参数效验\")\n    def test_case_nft(self):\n        value = read_and_replace_variables('nft')\n        for case in value:\n            count(case)  # 打印用例执行次数\n            if 'name' in case.keys() and 'requests' in case.keys() and 'validate' in case.keys():\n                if jsonpath.jsonpath(case, '$..url') and jsonpath.jsonpath(case, '$..method') \\\n                        and jsonpath.jsonpath(case, '$..data') and jsonpath.jsonpath(case, '$..headers'):\n                    headers = case['requests']['headers']\n                    url = (case['requests']['url'])\n                    method = (case['requests']['method'])\n                    data = (case['requests']['data'])\n                    result = RequestUtil().send_requests(method, url, headers, data)\n                    res = (json.loads(result))\n                    log_util.log_info('用例标题:{},请求地址为:{}, 请求参数为:{}'.format(case['name'], url, data))\n                    log_util.log_info('实际结果接口返回信息为:{}'.format(result))\n                    log_util.log_info('预期结果：code 应为: {}'.format(case['validate'][0]['equals']['code']))\n    \n                    with allure.step(case['name']):\n                        request_info = {\"method\": method, \"url\": url}\n                        allure.attach(json.dumps(request_info, ensure_ascii=False, indent=2), name=\"请求地址\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        allure.attach(json.dumps(headers, ensure_ascii=False, indent=2), name=\"请求头\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        allure.attach(json.dumps(data, ensure_ascii=False, indent=2), name=\"请求参数\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        allure.attach(json.dumps(result, ensure_ascii=False, indent=2), name=\"接口响应\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        try:\n>                           assert res['code'] == case['validate'][0]['equals']['code']\nE                           assert 510 == 0\n\nTestCases\\test_get_request.py:132: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"clear_extract_yaml","time":{"start":1703586079491,"stop":1703586079491,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"clear_log","time":{"start":1703586079491,"stop":1703586079492,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"log_data","time":{"start":1703586079493,"stop":1703586079495,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: assert 510 == 0","statusTrace":"self = <test_get_request.TestRequest object at 0x000002000B142C48>\n\n    @allure.feature('接口功能模块')\n    @allure.title(\"接口参数效验\")\n    def test_case_nft(self):\n        value = read_and_replace_variables('nft')\n        for case in value:\n            count(case)  # 打印用例执行次数\n            if 'name' in case.keys() and 'requests' in case.keys() and 'validate' in case.keys():\n                if jsonpath.jsonpath(case, '$..url') and jsonpath.jsonpath(case, '$..method') \\\n                        and jsonpath.jsonpath(case, '$..data') and jsonpath.jsonpath(case, '$..headers'):\n                    headers = case['requests']['headers']\n                    url = (case['requests']['url'])\n                    method = (case['requests']['method'])\n                    data = (case['requests']['data'])\n                    result = RequestUtil().send_requests(method, url, headers, data)\n                    res = (json.loads(result))\n                    log_util.log_info('用例标题:{},请求地址为:{}, 请求参数为:{}'.format(case['name'], url, data))\n                    log_util.log_info('实际结果接口返回信息为:{}'.format(result))\n                    log_util.log_info('预期结果：code 应为: {}'.format(case['validate'][0]['equals']['code']))\n    \n                    with allure.step(case['name']):\n                        request_info = {\"method\": method, \"url\": url}\n                        allure.attach(json.dumps(request_info, ensure_ascii=False, indent=2), name=\"请求地址\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        allure.attach(json.dumps(headers, ensure_ascii=False, indent=2), name=\"请求头\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        allure.attach(json.dumps(data, ensure_ascii=False, indent=2), name=\"请求参数\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        allure.attach(json.dumps(result, ensure_ascii=False, indent=2), name=\"接口响应\",\n                                      attachment_type=allure.attachment_type.JSON)\n                        try:\n>                           assert res['code'] == case['validate'][0]['equals']['code']\nE                           assert 510 == 0\n\nTestCases\\test_get_request.py:132: AssertionError","steps":[{"name":"获取首页banner","time":{"start":1703586079936,"stop":1703586079938,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"c4d011453966f96d","name":"请求地址","source":"c4d011453966f96d.json","type":"application/json","size":106},{"uid":"129fef9be54c008f","name":"请求头","source":"129fef9be54c008f.json","type":"application/json","size":261},{"uid":"4ade54abf723112a","name":"请求参数","source":"4ade54abf723112a.json","type":"application/json","size":4},{"uid":"b784bec35a5ff561","name":"接口响应","source":"b784bec35a5ff561.json","type":"application/json","size":746},{"uid":"e618727f752f67d9","name":"状态Code断言成功","source":"e618727f752f67d9.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取新人礼包界面","time":{"start":1703586079955,"stop":1703586079958,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"ac3b96faed2d3710","name":"请求地址","source":"ac3b96faed2d3710.json","type":"application/json","size":105},{"uid":"d7bf836f8070c2f3","name":"请求头","source":"d7bf836f8070c2f3.json","type":"application/json","size":261},{"uid":"e100b09245d9859","name":"请求参数","source":"e100b09245d9859.json","type":"application/json","size":4},{"uid":"dc2629be5e0faeb8","name":"接口响应","source":"dc2629be5e0faeb8.json","type":"application/json","size":373},{"uid":"ce7a7f7702f8a11a","name":"状态Code断言成功","source":"ce7a7f7702f8a11a.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取明星达人","time":{"start":1703586079990,"stop":1703586079993,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"cb009211e68b4590","name":"请求地址","source":"cb009211e68b4590.json","type":"application/json","size":100},{"uid":"fdd13e832c6550c2","name":"请求头","source":"fdd13e832c6550c2.json","type":"application/json","size":261},{"uid":"a2180067ee979960","name":"请求参数","source":"a2180067ee979960.json","type":"application/json","size":2},{"uid":"f6f9cf87a9f863c","name":"接口响应","source":"f6f9cf87a9f863c.json","type":"application/json","size":6161},{"uid":"d2194577c6a5b65d","name":"状态Code断言成功","source":"d2194577c6a5b65d.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"搜索接口","time":{"start":1703586080020,"stop":1703586080022,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"e838945bca3aab5e","name":"请求地址","source":"e838945bca3aab5e.json","type":"application/json","size":105},{"uid":"35ea4da53ce9fa93","name":"请求头","source":"35ea4da53ce9fa93.json","type":"application/json","size":261},{"uid":"178520f9038404ba","name":"请求参数","source":"178520f9038404ba.json","type":"application/json","size":68},{"uid":"617e3cc8bca87be1","name":"接口响应","source":"617e3cc8bca87be1.json","type":"application/json","size":1987},{"uid":"aa26b99a3f1bd636","name":"状态Code断言成功","source":"aa26b99a3f1bd636.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取达人详情他的动态","time":{"start":1703586080066,"stop":1703586080068,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"26d5887341071cc6","name":"请求地址","source":"26d5887341071cc6.json","type":"application/json","size":116},{"uid":"6ae893be163a4efd","name":"请求头","source":"6ae893be163a4efd.json","type":"application/json","size":261},{"uid":"94b82b2b5b1a34f3","name":"请求参数","source":"94b82b2b5b1a34f3.json","type":"application/json","size":86},{"uid":"589f3314c56b2453","name":"接口响应","source":"589f3314c56b2453.json","type":"application/json","size":10768},{"uid":"158ae98611a3c812","name":"状态Code断言成功","source":"158ae98611a3c812.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取达人详情他的服务","time":{"start":1703586080320,"stop":1703586080322,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"fd6a156d9a78abc7","name":"请求地址","source":"fd6a156d9a78abc7.json","type":"application/json","size":129},{"uid":"62b846d7087526e2","name":"请求头","source":"62b846d7087526e2.json","type":"application/json","size":261},{"uid":"c1c291edc94a714b","name":"请求参数","source":"c1c291edc94a714b.json","type":"application/json","size":4},{"uid":"861b7f58d6ba25e0","name":"接口响应","source":"861b7f58d6ba25e0.json","type":"application/json","size":2753},{"uid":"89d6e9008b1004f3","name":"状态Code断言成功","source":"89d6e9008b1004f3.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取更多分类","time":{"start":1703586080348,"stop":1703586080350,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"f0bd76dc3e78a927","name":"请求地址","source":"f0bd76dc3e78a927.json","type":"application/json","size":108},{"uid":"29a33d259f9ed0d1","name":"请求头","source":"29a33d259f9ed0d1.json","type":"application/json","size":261},{"uid":"7510c707933c3bf0","name":"请求参数","source":"7510c707933c3bf0.json","type":"application/json","size":4},{"uid":"79e6256c88913d6c","name":"接口响应","source":"79e6256c88913d6c.json","type":"application/json","size":6693},{"uid":"5760901f6fc8af20","name":"状态Code断言成功","source":"5760901f6fc8af20.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取广场banner","time":{"start":1703586080368,"stop":1703586080371,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"bc8d05975eeafb87","name":"请求地址","source":"bc8d05975eeafb87.json","type":"application/json","size":106},{"uid":"2e0bf002c7ada8fa","name":"请求头","source":"2e0bf002c7ada8fa.json","type":"application/json","size":261},{"uid":"46a1414806efd373","name":"请求参数","source":"46a1414806efd373.json","type":"application/json","size":4},{"uid":"accda2f641495c4d","name":"接口响应","source":"accda2f641495c4d.json","type":"application/json","size":748},{"uid":"27c222af5a188bf7","name":"状态Code断言成功","source":"27c222af5a188bf7.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取广场热门动态","time":{"start":1703586080408,"stop":1703586080410,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"f4ddc4bdb783dc24","name":"请求地址","source":"f4ddc4bdb783dc24.json","type":"application/json","size":100},{"uid":"496926ef7a876c52","name":"请求头","source":"496926ef7a876c52.json","type":"application/json","size":261},{"uid":"cc3cbc033138f1ef","name":"请求参数","source":"cc3cbc033138f1ef.json","type":"application/json","size":113},{"uid":"5f7923d94250d4bb","name":"接口响应","source":"5f7923d94250d4bb.json","type":"application/json","size":10768},{"uid":"c2bb43018ad417fc","name":"状态Code断言成功","source":"c2bb43018ad417fc.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取会员中心","time":{"start":1703586080461,"stop":1703586080464,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"aacce95e4007bfbd","name":"请求地址","source":"aacce95e4007bfbd.json","type":"application/json","size":101},{"uid":"45f7b0cda52c71b7","name":"请求头","source":"45f7b0cda52c71b7.json","type":"application/json","size":261},{"uid":"ce436fe94e45c710","name":"请求参数","source":"ce436fe94e45c710.json","type":"application/json","size":4},{"uid":"3f592400240307c7","name":"接口响应","source":"3f592400240307c7.json","type":"application/json","size":816},{"uid":"f7ba5ddc39ff5fe7","name":"状态Code断言成功","source":"f7ba5ddc39ff5fe7.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取优惠券列表","time":{"start":1703586080507,"stop":1703586080509,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"942d845a969d1aea","name":"请求地址","source":"942d845a969d1aea.json","type":"application/json","size":129},{"uid":"d15ccec845ee274f","name":"请求头","source":"d15ccec845ee274f.json","type":"application/json","size":261},{"uid":"3e27baf37da223fc","name":"请求参数","source":"3e27baf37da223fc.json","type":"application/json","size":4},{"uid":"4f1b51e006a3c8d1","name":"接口响应","source":"4f1b51e006a3c8d1.json","type":"application/json","size":8710},{"uid":"5b26ba12b77326e5","name":"状态Code断言成功","source":"5b26ba12b77326e5.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"关注达人","time":{"start":1703586080543,"stop":1703586080545,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"659435243ae5a826","name":"请求地址","source":"659435243ae5a826.json","type":"application/json","size":166},{"uid":"4cc58e6f21a2f268","name":"请求头","source":"4cc58e6f21a2f268.json","type":"application/json","size":261},{"uid":"713314553571ab83","name":"请求参数","source":"713314553571ab83.json","type":"application/json","size":4},{"uid":"963938a4a58b5567","name":"接口响应","source":"963938a4a58b5567.json","type":"application/json","size":62},{"uid":"939569ac47b489b5","name":"状态Code断言成功","source":"939569ac47b489b5.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"取消关注","time":{"start":1703586080574,"stop":1703586080576,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"19f93e06e9658d14","name":"请求地址","source":"19f93e06e9658d14.json","type":"application/json","size":167},{"uid":"2ac898a401fe72fa","name":"请求头","source":"2ac898a401fe72fa.json","type":"application/json","size":261},{"uid":"1490413ca578525a","name":"请求参数","source":"1490413ca578525a.json","type":"application/json","size":4},{"uid":"30d81955e9c3a388","name":"接口响应","source":"30d81955e9c3a388.json","type":"application/json","size":62},{"uid":"48f3320d5466aaa2","name":"状态Code断言成功","source":"48f3320d5466aaa2.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"预约下单服务","time":{"start":1703586080618,"stop":1703586080620,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"cd8934d0ab29c143","name":"请求地址","source":"cd8934d0ab29c143.json","type":"application/json","size":115},{"uid":"ca1a622fa7fae465","name":"请求头","source":"ca1a622fa7fae465.json","type":"application/json","size":261},{"uid":"41e8b3cbf2a4e828","name":"请求参数","source":"41e8b3cbf2a4e828.json","type":"application/json","size":39},{"uid":"a3f7c9910e676f3b","name":"接口响应","source":"a3f7c9910e676f3b.json","type":"application/json","size":1970},{"uid":"77a8772c30e1d4ed","name":"状态Code断言成功","source":"77a8772c30e1d4ed.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"获取订单支付页面","time":{"start":1703586080845,"stop":1703586080848,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"ba0701727e7ac625","name":"请求地址","source":"ba0701727e7ac625.json","type":"application/json","size":214},{"uid":"53aec35807c94ab2","name":"请求头","source":"53aec35807c94ab2.json","type":"application/json","size":261},{"uid":"5b797494c2c20bc6","name":"请求参数","source":"5b797494c2c20bc6.json","type":"application/json","size":4},{"uid":"34064cf49806387c","name":"接口响应","source":"34064cf49806387c.json","type":"application/json","size":837},{"uid":"a7e56ad938a19ed7","name":"状态Code断言成功","source":"a7e56ad938a19ed7.attach","type":"text/plain","size":30}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":false},{"name":"下单支付","time":{"start":1703586080905,"stop":1703586080907,"duration":2},"status":"failed","statusMessage":"AssertionError: assert 510 == 0\n","statusTrace":"  File \"E:\\socializeTest\\TestCases\\test_get_request.py\", line 132, in test_case_nft\n    assert res['code'] == case['validate'][0]['equals']['code']\n","steps":[],"attachments":[{"uid":"a4a86ab156467d5e","name":"请求地址","source":"a4a86ab156467d5e.json","type":"application/json","size":101},{"uid":"4cd6e40192af0ac6","name":"请求头","source":"4cd6e40192af0ac6.json","type":"application/json","size":261},{"uid":"20bcd4c2bcdf25c5","name":"请求参数","source":"20bcd4c2bcdf25c5.json","type":"application/json","size":494},{"uid":"b1d22311a091b8a","name":"接口响应","source":"b1d22311a091b8a.json","type":"application/json","size":100},{"uid":"cbb7f3ad48b81cb8","name":"状态Code断言失败","source":"cbb7f3ad48b81cb8.attach","type":"text/plain","size":32}],"parameters":[],"stepsCount":0,"hasContent":true,"attachmentsCount":5,"shouldDisplayMessage":true}],"attachments":[{"uid":"21b0fb7bfb14db89","name":"log","source":"21b0fb7bfb14db89.txt","type":"text/plain","size":53818}],"parameters":[],"stepsCount":16,"hasContent":true,"attachmentsCount":81,"shouldDisplayMessage":true},"afterStages":[{"name":"clear_extract_yaml::0","time":{"start":1703586080961,"stop":1703586080961,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"clear_log::0","time":{"start":1703586080961,"stop":1703586080961,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"epic","value":"社交"},{"name":"feature","value":"接口功能模块"},{"name":"parentSuite","value":"TestCases"},{"name":"suite","value":"test_get_request"},{"name":"subSuite","value":"TestRequest"},{"name":"host","value":"LYL-20220802ZTE"},{"name":"thread","value":"7420-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"TestCases.test_get_request"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"2ce1afc417d9f163.json","parameterValues":[]}